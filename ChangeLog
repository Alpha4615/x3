/***********************************************************************
 X3 ChangeLog

2006-05-18  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: Fixed up the track module a bit more

	* src/hash.c: Fixed up the track module a bit more, including
	reporting correctly when X3 kicks someone. This should affect mrsnoopy
	as well, hopefully wont cause any bugs.

	* src/mod-track.c: Fixed up the track module a bit more

2006-05-18  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: adding 'classic' view, via patch submitted by pLaYa

	* src/nickserv.c: adding 'classic' view, via patch submitted by pLaYa

	* src/nickserv.h: adding 'classic' view, via patch submitted by pLaYa

	* src/nickserv.help: adding 'classic' view, via patch submitted by pLaYa

2006-05-18  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: re-disabled netrider kicking. Somehow this got included back
	in.

	* src/mod-track.c: some cleanups and textual changes, to make the commands
	slightly more user friendly.

2006-05-16  Neil Spierling  <sirvulcan@gmail.com>

	* Most files: Heh i cant be bothered listing all files, see websvn
	if you want specific files. I just added a new tracking module, its
	just like snoop except it targets specified users. The actual
	commit is in the previous revision, i just forgot to update this to
	tick over the svn version in version output.

2006-05-15  Neil Spierling  <sirvulcan@gmail.com>

	* Most files: Major update off the new release of srvx 1.3.1. Also
	seeing as the new updates dont all have changelog entries ive dropped
	the 2 srvx Changelog files and renamed the X3 one to ChangeLog.

2006-03-20  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: core fix; check if theres a handle_info before looking
	at style...

	* src/helpfile.c: core fix; check if theres a handle_info before looking
	at style...

2006-03-17  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: more clean style changes

2006-03-17  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Added nickserv 'style' setting back. (HomeDawg
	and dhp1080 made me do it)  Needs lots of work to remove ---- 
	headers for 'clean' setting.

	* src/helpfile.c: Added nickserv 'style' stetting back.

	* src/nickserv.help: Added help for set style.

	* src/mod-helpserv.c: make style affect table outputs.

	* src/nickserv.c: Added nickserv 'style' setting back.

	* src/nickserv.h: Added nickserve 'style' setting back.

2006-03-17  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: Added conf setting for extended_accounts for
	backward compatability with stock undernet ircd.

	* x3.conf.example: Added conf setting for extended_accounts for
	    backward compatability with stock undernet ircd.

2006-03-06  Alex Schumann  <rubin@afternet.org>
	
	* src/opserv.help: Added missing trace criteria to help, 
	and fixed up a few other bits of help around that topic.

2006-01-16  Alex Schumann  <rubin@afternet.org>

	* src/tools.c: created an email valididty function

	* src/nickserv.c: check valididty of email better

	* src/sendmail.c: check validity of email better

2006-01-06  Alex Schumann  <rubin@afternet.org>

	* src/opserv.c: fix gtrace, trace, csearch and alerts to work when aliased
	to a different bot, eg chanserv, and to reply from the correct nickname.
	also a bunch of whitespace changes

	* src/nickserv.c: begin work on making nickserv commands bind without
	responding from the wrong nick. also a bunch of whitespace changes

	* src/hash.h: whitespace

    * src/opserv.help: improved QUERY helpfile. (though command itself still
	has bugs)

2005-12-14  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.help: added set bantimeout help

2005-11-08  Alex Schumann  <rubin@afternet.org>

	* src/modcmd.c: cleaned up tabs, added hack to display help on JOINER
	aliases properly.

	* src/modcmd.help: Added note about escaping spaces to modcmd help.

	* src/nickserv.help: Improved help files

	* src/chanserv.help: Improved help files

2005-10-13  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: ignore remote /lusers

2005-09-13  Alex Schumann <rubin@afternet.org>

	* src/global.c: Changed motd header style

	* src/nickserv.help: Improved directions for getting and using
	accounts.

	* src/chanserv.help: Improved directions for getting and using
	accounts.

2005-08-13  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Fixed a bug i created using masks in ,kick. Restored
	some *@* protection.

	* src/tools.c: added function to detect an overmask (too general)

	* src/common.h: added function to detect an overmask (too general)

2005-08-12  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Modified resync to work accourding to automode
	setting, and fixed a buffer overflow problem.

	* src/chanserv.help: updated set automode and rsync help.

	* src/nickserv.h: Added an autohide setting to nickserv/authserv that
	sets +x on AUTH.

	* src/nickserv.c: Added an autohide setting to nickserv/authserv that
	sets +x on AUTH.

2005-08-12  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Cleanup. Added 'automode' channel setting in place
	of 'voice' setting.  + Rewording setting help

	* src/chanserv.h: Cleanup. Added 'automode' channel setting in place
	of 'voice' setting.

	* src/chanserv.help: Added help for automode. + Rewording setting help

2005-08-11  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: added irc_umode() to send usermodes (Life4Christ)

	* src/proto-bahumit.c: added irc_umode() to send usermodes, untested..

	* src/proto.h: added irc_umode() to send usermodes (Life4Christ)

	* src/nickserv.c: Added option to have authserv oper/admin people with
	opserv access. (Life4Christ)

	* src/opserv.c: Added admin_level config option
	
	* src/opserv.h: Added admin_level config option

2005-08-11  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: Avoid duplicating an oper in curr_opers (,staff
	command) when nef* bug sends the +o twice. ++fix bug in patch

2005-08-09  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Fixed banTimeout to actually remove the bans :)

2005-08-08  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Added banTimeout feature to .set

	* src/chanserv.h: added banTimeout feature to .set

	* src/recdb.c: Added some better error catching in database_get_data()

        * src/proto-common.h: tabs

	* x3.conf.example: added bantimeout to default set list, and ban
	timeout frequency config setting.

2005-08-04  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Changed kick protected message to one without %s or
	$b because the kick function doesnt support replacements.

	* src/tools.c: fixed spelling error in comment.

2005-07-28  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: fixed crash bug in 8ball (required params was off by
	one)

	* src/proto-p10.c: Ignore wallusers (WU) tokens from server without
	whining.

2005-07-26  Alex Schumann  <rubin@afternet.org>

	* x3.conf.example: Updated from live afternet file and improved help
	and layout. Added vim directive to set syntax type.

	* src/chanserv.c: ported x2's 8ball in, and improved it.

	* src/math.c: Added osiris' hack to do_math for supporting
	2(10)  and 2pi etc. Improved it to handle pi2 also.

	* src/chanserv.help: updated 8ball help and added 'myaccess' to
	information help index.

2005-07-18  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: added +L awareness

	* src/hash.h: added +L awareness

	* src/chanserv.help: changed set ctcpreaction help

2005-07-18  Neil Spierling  <sirvulcan@gmail.com>

	* src/modcmd.h: Lets make some functions global.

	* src/modcmd.c: Log hostmasks no matter what.

	* src/log.c: Lookup commands if they are from OpServ in the log.
	If they match channel specific commands like OP, DEOP, etc then
	we will display them in a LAST command (assuming the person doing
	the LAST is an oper). Normal clients wont see commands that have
	been performed by OpServ.

2005-07-15  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Changed around ctcpreaction setting so it:
	    a) doesnt crash.
	    b) doesnt kick userlist members ever
	    c) has only 1 setting needed to control it
	* src/chanserv.h: removed some old oplevel stuff.

2005-07-14  Alex Schumann  <rubin@afternet.org>

	* src/proto-p10.c: made it ignore EX, MK and PRIV tokens to
	remove errors from log. Fixed problem with missing break; in
	channel mode c parsing (reed).

	* src/mod-memoserv.c: Improved memoserv 'you have notes' message.

	* src/log.c: Changed channel log target to send PRIVMSG instead of
	NOTICE. (Ghozer)

2005-05-07  Neil Spierling  <sirvulcan@gmail.com>

	* configure: Regenerated.

	* configure.in: Added checks for tgmath.h.

	* src/chanserv.c: Added new command LAST, from X2. Similar to
	EVENTS except its file based. Bear in mind you dont have to use
	both. You can bind what you want to use. Commented out zoot_list
	as its not in use, just a warning fix.

	* src/hash.c: Warning fix.

	* src/log.h: Misc defines.

	* src/log.c: Logging functions from X2.

	* src/math.c: If tgmath.h doesnt exist then include some other
	files that contain the functions we require.

	* src/modcmd.c: Added a small ctcp reply, gender.. like gnuworld X.

	* src/proto-p10.c: Added chanserv.h #include to squash a small
	compile error. Made X3 understand MARK's to a small point. Fixed
	a small parsing bug with exempts.

2005-07-06  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Fixed a couple awkward looking outputs with userlist

	* src/opserv.c: Fixed an awkward output of trace count etc.

2005-06-22  Alex Schumann  <rubin@afternet.org>
	* src/chanserv.help: Improved DURATION help

	* src/tools.c: Changed 'M' duration to 30 days (not 31) as its
	a better average.

2005-05-27  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Improved usability of register command, fixed
	unregister reply.

	* src/chanserv.help: Improved usability of register command

2005-05-27  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Resync working now

2005-05-27  Reed Loden  <reed@reedloden.com>

	* src/chanserv.c: Fixed an incorrectly named message. Fixed some
	grammar issues in the message send to pending users. Fixed a
	problem with some of the resync code.

2005-05-27  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: make pending add check if the person is already on
	the userlist before re-adding them (thx exec & reed for noticing this)
	Fix capitalisation of I in pending notice.

2005-05-18  Alex Schumann  <rubin@afternet.org>

	* src/modcmd.c: reed pointed out that modcmd non-command help wasnt
	working, and pointed me to the opserv helpfiles command, which shows
	what services search what help files.  This fixes the help command to
	search that list as it should. Still need to modify the 'default'
	helpfile search bindigs because I dont think chanserv should respond
	to help from opserv's db, etc.  See opserv's 'helpfiles' command.

	* src/modcmd.help: clarified 'helpfiles' help.

2005-05-18  Alex Schumann  <rubin@afternet.org>

	* src/helpfile.c: make send_help() return true/false and not send
	errors so svccmd_send_help can 'take control' of things.

	* src/modcmd.c: Fixed up the help system (again) / find aliased
	commands help if none exists. / Display no help for that command on
	commands (instead of topic)

	* src/modcmd.h: Fixed up the help system (again)

	* src/global.c: Fixed syntax display

	* src/chanserv.help: Removed =---= formatting, fixed a few things.
	*spelling ++more spelling (thx reed)

	* src/nickserv.help: Removed =---= formatting, fixed a few things.
	*spelling ++more spelling (thx reed)
	
	* src/opserv.help: Removed =---= formatting, fixed a few things.
	++spelling (thx reed)

	* src/global.help: simplified index

	* src/nickserv.c: Changed message users get when their email is
	already used for an account, fixed syntax help

	* src/opserv.c: fixed syntax help

2005-05-16  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.help: Fixed a couple ban/lamer conversions i missed in
	the help file.

2005-05-04  Alex Schumann  <rubin@afternet.org>

	* src/modcmd.c: added a 'rebindall' command to assist with
	upgrades and changes which change command bindings.

	* src/modcmd.help: modified help to reflect above

	* src/opserv.help: modified help to reflect above

	* src/chanserv.c: changed addban, addtimedban, delban, bans etc
	to addlamer, dellamer, addtimedlamer, lamers to reduce confusion
	between channel bans (+b) and x3 remembered bans (lamers)

	* src/chanserv.help: modified help to reflect above

	* UPGRADE: added use of rebindall to upgrade instructions

2005-05-04  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: added an 'adduser pending' feature, where if
	someone isn't authed x3 will ask them to /auth or register, and then
	automatically finish adding them to the channel when they do.
	Fixed email bug with adduser pending

	* src/chanserv.h: adduser pending

	* src/hash.c: adduser pending

	* src/hash.h: adduser pending, and increased maxbans to 128 from 45.

	* src/nickserv.c: adduser pending cleanup and activation code,
	                  Arch sync (Avoid losing channel information when
			  replacing an account using the mergedb command.)

	* src/proto-p10.c: adduser pending cleanup code 

	* src/nickserv.help: improved set and register help

2005-05-04  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: changed uset noautoop to uset autoop (removed double
	negitive). Added set voice to provide control over use of voice.
	Implimented a basic chanserv db version control system for upgrading
	seamlessly.

	* src/chanserv.help: adjusted help to reflect voice and uset autoop
	changes.

	* src/hash.h: updated ssz comment from z to Z

	* src/modcmd.help: rewrote BIND help

	* src/proto-p10.c: Added Z (sslonly) support back in

	* UPGRADE: created file to document upgrading procedures

2005-04-23  Alex Schumann  <rubin@afternet.org>
	* src/chanserv.c: removed settings: oplevel, halfoplevel, and
	voicelevel, hard coding them to OP, HALFOP, and PEON. Changed
	topicmask to be an on or off setting, uninfluenced by enftopic. 
	Added feature to use mask on /topic in addition to ,topic sets.
	Removed special consideration for ircops in protect_user()

	* src/chanserv.help: updated documentation to reflect the new and
	much simpler topicmask feature, and removed op/voice levels.

	* src/nickserv.c: added tailing 'end of' line for accountinfo
	for non-opers too.

	* src/modcmd.c: tweaked alias notification for help and breef help.

2005-04-20  Alex Schumann  <rubin@afternet.org>

	* src/proto-common.c: removing +d. needs to be a config option
	or something.

	* src/nickserv.help: modified main help reply of authserv

	* src/nickserv.c: added title, epithet, and fakehost to oset listing

	* src/modcmd.c: fixed up auto-help & alias command handling. Needs
	totally redesigned though.

2005-04-15  Alex Schumann  <rubin@afternet.org>

	* src/proto-common.c: Temp fix for x3 not seeing -hv modes being set
	at the same time. The whole block needs to be if/else instead of
	switch though, to be cleaner.

	* src/nickserv.help: added fakehost and title options to  help oset.

	* src/nickserv.c: removed 'style' setting. (was not being used in
	code anyway)

2005-04-04  Neil Spierling  <sirvulcan@gmail.com>

	* src/proto-p10.c: Reinstated +d usermode.

2005-03-30  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Fixed unban. 

	* x3.conf.example: added note in snoop config that improper
	setting for bots nick will cause segfault.

2005-03-22  Alex Schumann  <rubin@afternet.org>

	* x3.conf.example: added sethost/fakehost settings to conf

2005-03-19  Alex Schumann  <rubin@afternet.org>

	* chanserv.c: Changed style of command outputs, added userlevel back
	to users list.

	* opserv.c: Changed style of command outputs, removed warn feature

	* tools.c: shortened duration string lengths

	* main.c: shortened duration string lengths

	* sendmail.c: Changed style of stats email

2005-03-18  Alex Schumann  <rubin@afternet.org>

	* Changed breef to brief...

	* chanserv.c: Changed to access level names instead of numbers.

2005-03-17  Alex Schumann  <rubin@afternet.org>


	* src/opserv.c: Improved readability of trace print output

	* src/chanserv.c: Improved cmd_list_users output & cleaned it up
	a little.

	* src/helpfile.c: Improved table_send readability (used in lots
	of listings including users and stats network etc)

2005-03-15  Alex Schumann  <rubin@afternet.org>

	* src/chanserv.c: Improved some syntax error reporting for commands
	
	* src/helpfile.c: Added a 'breef' help function
	
	* src/helpfile.h: Added a 'breef' help function
	
	* src/main.c: Improved some syntax error reporting for commands
	
	* src/modcmd.c: Improved some syntax error reporting for commands
	
	* src/modcmd.h: Improved some syntax error reporting for commands

2005-03-15  Reed Loden  <reed@reedloden.com>

	* Synchronization with srvx--devo--1.3--patch-19.

2005-03-12  Alex Schumann  <rubin@afternet.org>

	* src/common.h, src/opserv.h: more SRVX->X3 fixes

	* opserv.c: fixed SRVX defines to X3

	* src/nickserv.c: Applied patch to bring up to date with
	local uncommitted changes on afternets srvx2 tree. improved
	cookie gen code and removed /play from cookie messages.

	* src/all, src/Makefile*, Makefile.in: changed srvx to x3 in a
	bunch more places.

2005-03-07  Neil Spierling  <sirvulcan@gmail.com>

	* nickserv.help: Added odelcookie section.

	* src/nickserv.c: Added odelcookie for deleting auth cookies and email
	cookies.

	* src/md5.c: Cleaned up compile warnings.

	* src/nickserv.help: Added odelcookie section.

***********************************************************************/

#define CVS_VERSION "$Id$"

